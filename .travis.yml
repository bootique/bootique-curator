# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

sudo: required

services:
    - docker

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  allow_failures:
    - jdk: openjdk-ea
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-curator

# travis encrypt -r bootique/bootique-curator "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-curator "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "qW9sdDVABxNiBoM5s2HK69zXEKmrPZDVhcksjAqZvPNwvb0eGg0bLpJhlm9WcCwZVbwDpbCR9J9gBmViefer6D+5yhmxkMHr5a7sb2m0f4XgekK0hL/cWAh1RW7XqBl3LIH2NB5N0sbGAGQDyyl56Q4DDQvnH0fiz5h/vqpgFSmqGLPzah8Cwknm1jdhovTF35a9Mf2jW55YJPUpwJ/mHrC6oMXAZ2NcnP3dacx5hBJQEpmT+RFXHOyb3INCj3971A3qYjI/TFX3C6dYNFoJMkE2/Fv+MlRFBP6j6p+pQNjH1uoSaUJI+Z2chSRmfd/mE+STRkALVWXxfBvhs0CioeqIFkJMFfqG2SWGidc0zuDrJG+GD8itkOZkzkg6hicwSnwIOYtXvisuehLO/KzwHcDOfshvGmtbZJkdOICZ16B9lBHObLd80nsBRUEE/7w/tYoS5mjcOeynA7CK+onwcjcTts2eGVkHd/o/s7/ekRunlVusDA99+eT840/PxHFDtNC/sG3/XjJB5tSa4D27Ty/Twak3w+7MZFcXBJhngmyl6ONAls2UsMzDaR+4q7BPL5BYiSACSFBE2ZhrCm6qNwvF3NXZjWDl0r3SdrYGW7oj8btpcE7ScpSSkLrEj2NPA5ZjqRfy8lGjykk2/2ngU4OHnr8NrWFq/K9FkPpfXxk="
    - secure: "ZUgVKuqtocbjXThN5QGvva4H4bfjzVHRSoCJeAxiCTo+mCGX9eXxsCKhUYYqxfnZYJiCAkOabG5PV+jellsQlZ7OCi5b4Oez4gb4/bMLPNRndT/FEa1ll2P9XOc0Sl0aAIsviINXZWFqtqt6Rsm6GLrX7CCb71Oc4IrQ6n81yfRUM5xEltUjuaC57WpnOtQaRRv1fk5Y7VjTKtlJkrGHnkuYLA20GjOKxc50uPxg6rK0jJEgHbr7lE6y864BNMpQUfq5hnWMLFvixzsErtV+2DsddBDfuaWMDv3Gg5z2oM5ZayKfk0cyXM6NCq0y/GKcBTAgae6AsSitH+Z9rFdNKhM3FxB2N3Lg6T/XDKNu8CgajsXVvA02psX1cjONss8dlA/dMOce6uMXaCER3nN0ku5yeuEZUJcD7i3qA8FWFMZj7szzSF3pTyMwWwEHm8KMhHAWtFjPGfnQAbFC/URgfzlbTRehbNlmYLhggafYuXPd9f4tBsaTHYthx4kLpdKNyT5hkBaaCBXtEy+oOLtWiWkP8f9KqI5V6iVfK3BV8h8YO0gOarS0eKEN42awvbvGtt5wwZ3Gz3VnAM8RqY1oD4IVcdumIoa0Cuy31nJcwpdhCU3x5f4Apqm6FqKzdF/tMrEpym/0uQzXyKgzYAXq0aoWSSMrNbR/4ygzKvJu98o="
